# Gitopia
### О Gitopia
Gitopia - это децентрализованная платформа нового поколения для совместной работы над кодом, подпитываемая децентрализованной сетью и интерактивной экономикой токенов. Она призвана оптимизировать процесс разработки программного обеспечения за счет сотрудничества, прозрачности и стимулирования открытого кода.
#### Gitopia 26 апреля (немного запоздал) запустила игру,гед можно поучаствовать и получить вознаграждения

![image](https://user-images.githubusercontent.com/57448493/179468865-d638270f-5a99-43e0-99bc-8e012800364d.png)

Игра $LORE создана для того, чтобы:

  - Создать экосистему Gitopia и привлечь на платформу ранних участников, таких как валидаторы, разработчики и Open-source/ Web3/DAO проекты.

  - Привлечь сообщества Open-source и Web3 к миграции и переходу на Gitopia

  - Вознаградить разработчиков и команды, помогающие в создании Gitopia.

   В общей сложности 3,250,000 / 7,750,000 (около 42%) монет, отчеканенных и разблокированных в Genesis, будут вознаграждены сообществом с помощью механизма стимулирования The Game Of $LORE.
   
## The Game of $LORE - распределение очков и наград

Вознаграждение в размере 3 250 000 токенов LORE будет распределено по 3 основным категориям:![image](https://user-images.githubusercontent.com/57448493/179469138-2e05d110-ffa0-416e-a921-b5d81cdbbab1.png)

+ Валидаторы - 1,000,000 токенов LORE зарезервированы для распределения через вознаграждения и распределения (делегирования) среди валидаторов, участвующих в Janus Testnet.

+ Вознаграждение за вклад - для этой деятельности зарезервировано 1 250 000 токенов LORE. Эта деятельность предназначена для вознаграждения за значимый вклад в Gitopia. Поскольку определение значимого является субъективным, мы будем вознаграждать:

+ Все вклады в проверенные open-source и Web3 проекты, мигрирующие в Gitopia на Janus Testnet.* DAO или другие проекты, которые получают значительные вклады от разработчиков. * Разработчики или команды, которые создают Gitopia. 

+ Airdrop для сообщества - 1,000,000 токенов LORE airdrop планируется для разработчиков и контрибьюторов в сообществах web3 и opensource. Эфир будет одобрен только после того, как предложение в сообществе будет тщательно обсуждено и принято.

Мы разблокировали несколько мероприятий на старте Janus Testnet, чтобы обеспечить раннее вознаграждение за вклад. На протяжении всего Janus Testnet мы будем объявлять многочисленные конкурсы для валидаторов, разработчиков и других участников экосистемы. Эти конкурсы позволят членам сообщества получить дополнительные вознаграждения за свой вклад, помимо тех, о которых говорится в этом блоге.

### я расскажу про валидаторов и как их вознаградят, а также как запустить ноду
### Валидаторы - распределение баллов и наград
Gitopia стремится обеспечить самые высокие стандарты безопасности сетевой инфраструктуры, интуитивное удобство использования и вовлеченность сообщества со стороны валидаторов. Механизм вознаграждения поможет в боевом тестировании инфраструктуры Gitopia и ретрансляторов.

Валидаторы будут получать очки HUB за свой вклад, которые впоследствии будут конвертированы в токены LORE по приведенной ниже формуле:

Общий доступный пул валидаторов : 1,000,000 жетонов LORE. Общее количество жетонов LORE в Genesis = (HUB Points, накопленные валидатором / Общее количество HUB points, накопленных всеми валидаторами) * пул жетонов, зарезервированный для этой деятельности ;[Макс. 10,000 жетонов LORE].

#### Пул валидаторов далее делится на два пула вознаграждений:

Пул вознаграждений 1: Регистрация и валидация Janus Testnet - 100,000 LORE

Чтобы начать получать очки, необходимо пройти процедуру белых списков валидаторов. Ниже описаны процессы, которые повысят ваши шансы на получение статуса валидатора:

Выполните следующие шаги для участия в качестве валидатора в Janus Testnet: * Установите валидатор на Gitopia, следуя шагам -> Шаги установки валидатора* Отправьте форму для валидаторов- https://airtable.com/shrMQFJxcsMD0XV2M.

#### Баллы для валидаторов
Правомочность и правила:

1. Для получения вознаграждения валидатор должен валидировать не менее 1/3 периода Testnet. 

2. Вознаграждения будут распределяться между валидаторами на основе баллов, а максимальный размер пула составляет 100 000 токенов LORE. 

3. Дополнительные задания и награды могут быть добавлены в пул валидаторов во время Janus Testnet. 

. Во время Janus Testnet лимит китов составляет 10 000 токенов LORE на адрес. 

5. Любая дополнительная сумма, оставшаяся от первого пула вознаграждений, будет добавлена к пулу вознаграждений

Безопасность, тестирование и сообщение об ошибках


### Баллы за безопасность, тестирование и сообщения об ошибках

### Правила и условия:

1. Сообщаемая ошибка не должна входить в список известных ошибок и не должна быть сообщена ранее.

2. Существует верхний лимит китов в 10,000 токенов LORE за участие в адресе.

3. Вознаграждения будут основаны на механизме баллов, и фактические баллы не равны количеству токенов LORE, которое вы получите в Genesis.

4. Фактические баллы за исправление будут вознаграждены основной командой. 

#### Вознаграждение 2: зарезервировано для дополнительных наград, программ и заданий во время Janus Testnet - 500,000 LORE

Мы будем вводить программы для разработчиков во время Janus Testnet, чтобы сделать его более интересным. Пул наград 2" предназначен для финансирования этих мероприятий во время Janus Testnet.

Десанты для сообщества - 1,000,000 LORE

Одной из основных целей The Game of LORE является вознаграждение как можно большего числа прошлых участников сообщества с открытым исходным кодом и Web3, точные подробности о воздушном сбросе будут объявлены во время его запуска.


#### Запуск ноды и поднятие валидотора сейчас бессмыслены(так как идет отбор валидаторов), но в будущем этот мануал может Вам пригодится:

### ТЕСТИРОВАНИЕ ПЛАТФОРМЫ

#### Офф документация - https://docs.gitopia.com/
Нужно зарегестрироваться на платформе,получить тестовые токены, и изучить оф.доки
### Обновляем репозитории
```
sudo apt update && sudo apt upgrade -y
```
### Устанавливаем необходимые утилиты
```
sudo apt install curl build-essential git wget jq make gcc tmux -y
```
### устанавливаем git remote helper
```
curl https://get.gitopia.com | bash
```
#### задаем имя и email
```
git config --global user.name <name>
git config --global user.email <email>
```
### проверяем настройки
```
git config --list
```
#### создадим новую папку для нашего проекта
```
mkdir hello-world && cd hello-world
```
### создаем проект
```
echo "# hello world" >> README.md
git init
git add README.md
git commit -m "initial commit"
```
### физически загружаем кошелек.json на сервер в папку $HOME и задаем переменную
```
export GITOPIA_WALLET=$HOME/<name_wallet>.json
```
### обновляем удаленный репозиторий (данные берем с платформы)
```
git remote add origin gitopia://gigitopia14t5474.../hello-world
git push -u origin master
```
### дополняем README
```
nano /$HOME/hello-world/README.md
git add README.md
git commit -m "initial commit"
git push -u origin master
```
### переброс на новый сервер

### устанавливаем git remote helper
```
curl https://get.gitopia.com | bash
```
### задаем имя и email
```
git config --global user.name <name>
git config --global user.email <email>
```
### физически загружаем кошелек.json на сервер в папку $HOME и задаем переменную
```
export GITOPIA_WALLET=$HOME/<name_wallet>.json
```
### клонируем свой репозиторий и работаем в нем
```
git clone gitopia://gitopia14t5474.../hello-world
cd hello-world
```
### Поднятие ноды и валидатора(пока бессмуслены)
Testnet details

+ Network Chain ID: gitopia-janus-testnet
+ Denom: tlore
+ Cosmos explorer: https://explorer.gitopia.com/validators
+ Офф инструкция: https://docs.gitopia.com/gitopiad
+ Платформа: https://gitopia.com/

### Подготовка сервера


### Обновляем репозитории
```
sudo apt update && sudo apt upgrade -y
```
#### Устанавливаем необходимые утилиты
```
sudo apt install curl build-essential git wget jq make gcc tmux -y
```
#### Устанавливаем Go ОДНОЙ КОМАНДОЙ
```
wget https://golang.org/dl/go1.18.1.linux-amd64.tar.gz; \
rm -rv /usr/local/go; \
tar -C /usr/local -xzf go1.18.1.linux-amd64.tar.gz && \
rm -v go1.18.1.linux-amd64.tar.gz && \
echo "export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin" >> ~/.bash_profile && \
source ~/.bash_profile && \
go version
```
#### Установка ноды
#### ВАЖНО — в командах ниже все, что в <> меняем на свое значение и убираем сами <>

#### Устанавливаем git remote helper
```
curl https://get.gitopia.com | bash
```
#### Устанавливаем бинарники
```
git clone gitopia://gitopia1dlpc7ps63kj5v0kn5v8eq9sn2n8v8r5z9jmwff/gitopia && cd gitopia
make install
gitopiad version
```
### 0.13.0
```
git clone gitopia://gitopia1dlpc7ps63kj5v0kn5v8eq9sn2n8v8r5z9jmwff/testnets
```
### Инициализируем ноду, чтобы создать необходимые файлы конфигурации
```
gitopiad init <name_node> --chain-id gitopia-janus-testnet
```
#### Cоздаем или восстанавливаем кошелек и сохраняем вывод

#### создать кошелек
```
gitopiad keys add <name_wallet>
```
#### восстановить кошелек (после команды вставить seed)
```
gitopiad keys add <name_wallet> --recover
```
#### Скачиваем Genesis
```
cp /root/testnets/gitopia-janus-testnet/genesis.json /root/.gitopia/config/
```
#### Проверим генезис
`sha256sum ~/.gitopia/config/genesis.json`
#### 12ed9158ae8a8d0051ad5f928685cf99eaec2c3efab2ee1bcf9e97cf432e8d33

#### Проверим генезис
```
gitopiad validate-genesis
```
#### Проверяем, что состояние валидатора на начальном этапе
```
cd && cat .gitopia/data/priv_validator_state.json
{
  "height": "0",
  "round": 0,
  "step": 0
}
```
#### если нет, то выполняем команду
```
gitopiad unsafe-reset-all
```
#### Настраиваем конфигурацию ноды
#### Правим конфиг, благодаря чему мы можем больше не использовать флаг chain-idдля каждой команды CLI $HOME/.gitopia/config/client.toml 
```
gitopiad config chain-id gitopia-janus-testnet
```
#### Настраиваем минимальную цену за газ $HOME/.gitopia/config/app.toml
```
sed -i.bak -e "s/^minimum-gas-prices *=.*/minimum-gas-prices = \"0.001utlore\"/;" ~/.gitopia/config/app.toml
```
#### Настраиваем прунинг одной командой $HOME/.gitopia/config/app.toml
```
pruning="custom" && \
pruning_keep_recent="100" && \
pruning_keep_every="0" && \
pruning_interval="50" && \
sed -i -e "s/^pruning *=.*/pruning = \"$pruning\"/" $HOME/.gitopia/config/app.toml && \
sed -i -e "s/^pruning-keep-recent *=.*/pruning-keep-recent = \"$pruning_keep_recent\"/" $HOME/.gitopia/config/app.toml && \
sed -i -e "s/^pruning-keep-every *=.*/pruning-keep-every = \"$pruning_keep_every\"/" $HOME/.gitopia/config/app.toml && \
sed -i -e "s/^pruning-interval *=.*/pruning-interval = \"$pruning_interval\"/" $HOME/.gitopia/config/app.toml
```
Добавляем 
```
seed/peers $HOME/.gitopia/config/config.toml

external_address=$(wget -qO- eth0.me)

peers=""
sed -i.bak -e "s/^external_address *=.*/external_address = \"$external_address:26656\"/; s/^persistent_peers *=.*/persistent_peers = \"$peers\"/" $HOME/.gitopia/config/config.toml

seeds=""
sed -i.bak -e "s/^seeds =.*/seeds = \"$seeds\"/" $HOME/.gitopia/config/config.toml
```
#### (ОПЦИОНАЛЬНО) Выкл индексацию $HOME/.gitopia/config/config.toml
```
indexer="null" && \
sed -i -e "s/^indexer *=.*/indexer = \"$indexer\"/" $HOME/.gitopia/config/config.toml
```
#### (ОПЦИОНАЛЬНО) Вкл/выкл снэпшоты $HOME/.gitopia/config/app.toml

#### По умолчанию здесь снэпшоты включены "snapshot-interval=1500"
#### Важно: если устанавливаются снэпшоты, то snapshot-interval должен быть кратен pruning-keep-every
### Создаем сервисный файл
```
sudo tee /etc/systemd/system/gitopiad.service > /dev/null <<EOF
[Unit]
Description=gitopia
After=network-online.target

[Service]
User=$USER
ExecStart=$(which gitopiad) start
Restart=on-failure
RestartSec=3
LimitNOFILE=65535

[Install]
WantedBy=multi-user.target
EOF
```
```
sudo systemctl daemon-reload && \
sudo systemctl enable gitopiad && \
sudo systemctl restart gitopiad && sudo journalctl -u gitopiad -f -o cat
```
##### Если после старта нода долго не может подцепиться к пирам, то ищем новые пиры или просим addrbook.json у кого-нибудь

#### стопаем ноду
```
sudo systemctl stop gitopiad
```
#### меняем адресную книгу
#### перезагружаем ноду
```
sudo systemctl restart gitopiad && journalctl -u gitopiad -f -o cat
```
#### Создаем валидатора
```
gitopiad tx staking create-validator \
--chain-id gitopia-janus-testnet \
--commission-rate=0.1 \
--commission-max-rate=0.2 \
--commission-max-change-rate=0.1 \
--min-self-delegation="1" \
--amount=1000000tlore \
--pubkey $(gitopiad tendermint show-validator) \
--moniker "<name_moniker>" \
--from=<name_wallet> \
--gas="auto" \
--fees 555tlore
```
### Не забываем сохранить priv_validator_key.json

#### Подробнее о создании/редактировании валидатора можно почитать здесь

### Полезные команды
#### Проверить блоки
```
gitopiad status 2>&1 | jq ."SyncInfo"."latest_block_height"
```
#### Проверить логи
```
sudo journalctl -u gitopiad -f -o cat
```
#### Статус
```
curl localhost:26657/status
```
#### Проверить баланс
```
gitopiad q bank balances <uptick1...>
```
#### Проверить валидатора
```
gitopiad query staking validator <uptickvaloper1...>
gitopiad query staking validators --limit 1000000 -o json | jq '.validators[] | select(.description.moniker=="<name_moniker>")' | jq
```
#### Собрать комиссионные + реварды
```
gitopiad tx distribution withdraw-rewards <uptickvaloper1...> --from <name_wallet> --fees 555auptick --commission -y
```
#### Заделегировать себе в стейк еще (так отправляется 1 монетa)
```
gitopiad tx staking delegate <uptickvaloper1...> 1000000000000000000auptick --from <name_wallet> --fees 555auptick -y
```
#### Unbond 
```
gitopiad tx staking unbond <defundvaloper1ms...> 10000000auptick --from <name_wallet> --fees 555auptick -y
```
#### Отправить монеты на другой адрес
```
gitopiad tx bank send <name_wallet> <uptick1...> 10000000auptick --fees 555auptick -y
```
#### Выбраться из тюрьмы
```
gitopiad tx slashing unjail --from <name_wallet>
```
#### Работа с кошельками

#### вывести список кошельков
```
gitopiad keys list
```
#### показать ключ аккаунта
```
gitopiad keys show <name_wallet> --bech acc
```
#### показать ключ валидатора
```
gitopiad keys show <name_wallet> --bech val
```
#### показать ключ консенсуса
```
gitopiad keys show <name_wallet> --bech cons
```
#### запрос учетной записи
```
gitopiad q auth account $(uptickd keys show <name_wallet> -a) -o text
```
#### Узнать транзакцию создания валидатора (заменить свой valoper_address)
```
gitopiad query txs --events='create_validator.validator=<your_valoper_address>' -o=json | jq .txs[0].txhash -r
```
#### Проверить сколько блоков пропущено валидатором и с какого блока актив
```
gitopiad q slashing signing-info $(uptickd tendermint show-validator)
```
#### Параметры сети
```
gitopiad q staking params
```
#### Очистка данных и обновление

#### удаляем addrbook и очищаем данные
```
rm $HOME/.gitopia/config/addrbook.json 
gitopiad unsafe-reset-all
```
#### обновиться
```
git clone gitopia://gitopia1dlpc7ps63kj5v0kn5v8eq9sn2n8v8r5z9jmwff/gitopia
cd gitopia
git fetch --all && git checkout master
make install
```
#### Проголосовать за предложение 
```
gitopiad tx gov vote 1 yes --from <name_wallet> --fees 555auptick
```
#### Внести депозит в предложение
```
gitopiad tx gov deposit 1 5000000auptick --from <name_wallet> --fees 555auptick
```
